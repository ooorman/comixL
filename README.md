# Настройка проекта
Для начала работы необходимо создать новый проект, в который загрузить Engine.py и widgetClasses. После этого создать файл main.py и папки "media", "scenarios". В папке media будут размещаться папки медиафайлов, в папке scenarios - сценарии. В каталоге scenarios создайте файл main.txt - точку входа для комикса. 

В main.py пропишите небольшую логику обработки игровых событий:
```
from Engine import Comix
import pygame

def main():
    screen = pygame.display.set_mode((0, 0), pygame.FULLSCREEN | pygame.HWSURFACE | pygame.DOUBLEBUF | pygame.SRCALPHA)
    pygame.display.set_caption('Новелл')
    comix = Comix(screen, scenarios_root='scenarios/', staticfiles_root='media/')

    while True:
        events = pygame.event.get()
        comix.process_events(events)
        comix.update_screen()
if __name__ == '__main__':
    main()
```

# Сценарии. Общее
Теперь можно приступить к написанию сценариев.
Сценарии пишутся в .txt файлах по фреймам. Пример кода (пишем в main.txt файле):
```
0
название_команды: параметр1, параметр2, параметр3;
1
название_команды: параметр1;
```
В самом начале прогружается 0 фрейм, срабатывает 1 команда с 3 параметрами. После чего программа ждёт клика игрока по экрану. По нажатию, фрейм меняется на следующий, выполняется 2 команда с 1 параметром. 

# Синтаксис:
##### Любая команда типа ключ:значение должна заканчиваться на ";"!
##### Перечесление параметров команды должно вестись через запятую!
##### Кол-во пробелов между ключём и значением, также как и между параметрами, может быть любым!

# Команды
## background
Пример кода:
```
0
background:"images/image1.png";
```
Команда background позволяет добавить картинку на задний план. В качестве параметров принимает: относительный путь до изображения.<br>
Путь берётся относительно папки по пути, который мы указали в staticfiles_root. То есть, в данном примере изображение возьмётся по пути "media/images/image1.png". Если разрешение картинки и разрешение окна не совпадают, то картинка растягивается до размеров окна.
## video
Пример кода:
```
0
video: "videos/video.mp4";
```
Команда video позволяет добавить видео на передний план, по окончании которого фрейм переключиться на следующий. В качестве параметров принимает: относительный путь до видео.<br>
Путь берётся относительно папки по пути, который мы указали в staticfiles_root. То есть, в данном примере видео возьмётся по пути "media/videos/video.mp4". Если разрешение видео и разрешение окна не совпадают, то видео растягивается до размеров окна.

## audio
Пример кода:
```
0
audio: "audios/audio.mp3";
```
Команда audio позволяет добавить музыку, либо звук. При переключении фреймов звук продолжает играть, чтобы это предотвратить в фрейме, в котором нужно, чтобы звук перестал играть пропишите:
```
1
audio: 0;
```
В качестве параметров принимает: относительный путь до аудио.<br>
Путь берётся относительно папки по пути, который мы указали в staticfiles_root. То есть, в данном примере аудио возьмётся по пути "media/audios/audio.mp3".

Чтобы зациклить звук, надо использовать флаг "loop". Пример:
```
0
audio: "audios/audio.mp3", loop;
```
## author
Пример кода:
```
0
author: top, "Текст рассказчика";
```
Команда author позволяет добавить речь рассказчика. В качестве параметров принимает: местоположение (top либо bottom), текст на панели.

## character
Пример кода:
```
0
character: [100,100], [200, 100], 30, "Текст персонажа";
```
Команда character позволяет добавить прямую речь внутриигровых персонажей. В качестве параметров принимает: позицию панели [x,y], размеры панели [width, height], размер шрифта (px), Текст персонажа.

## fnc
Пример кода:
```
0
fnc:goto(5);
```
Команда fnc позволяет запускать заготовленные <u>функции</u>, увеличивающие возможности и функционал игры. В качестве параметров принимает: функцию.

## choice
Пример кода:
```
0
choice: какая_то_функция(), "Выбор1", [100,100] | какая_то_функция(), "Выбор2", [200, 100];
```
Команда choice позволяет добавить выбор игрока и ветвление сюжета по нажатии на кнопку. В качестве параметров через знак "|", разграничивающий кнопки, принимает: callback-функцию, текст на кнопке, Позицию кнопки [x,y].<br>
По нажатии на кнопку, будет срабатывать callback-<u>функция</u>.

# Функции.
Функции - это некоторый тип данных, способствующий увеличению возможностей и функционала игры.

## goto
Пример кода:
```
0
fnc:goto("lines/line1.txt", 10);
```
Функция goto.<br>
goto позволяет перемещать исполнитель из одной части исполняемого файла в другую часть, либо из исполняемого файла в другой файл. <br>
В круглых скобках может указываться путь до файла в кавычках: goto("путь_до_файла"). В таком случае исполнитель перенесётся на нулевой фрейм файла по пути "текущий_проект/scenarios/путь_до_файла". Может указываться номер фрейма, на который нужно переместиться: goto(5). В таком случае исполнитель перенесётся на 5 фрейм текущего файла. Также можно переместиться на определённую строчку в определённом файле, если сначала указать путь до файла, а потом через запятую номер фрейма: goto("путь_до_файла", номер_фрейма).
В примере выше исполнитель должен переместиться на 10 фрейм файла "текущий_проект/scenarios/lines/line1.txt".
